!function(o){[].slice.call(document.querySelectorAll("#tratamientoSelect")).forEach(function(e){new SelectFx(e,{stickyPlaceholder:!1,onChange:function(e){o(".formAlertTto").css({visibility:"hidden"}),o(".formTratamiento").addClass("green").removeClass("red")}})})}(jQuery),function(o){o(document).ready(function(){function e(){var e=!1;return o(".formNombre .icono").css({visibility:"visible"}),o(".formNombre input").val().match(/^[a-zа-яiъїñÑáéíóúÁÉÍÓÚ ]+$/i)?(o(".formNombre .alert").css({visibility:"hidden"}),o(".formNombre .icono i").removeClass("warning").addClass("check"),o(".formNombre").addClass("green").removeClass("red"),e=!0):(o(".formNombre .alert").css({visibility:"visible",display:"block"}),o(".formNombre .alert").text("El formato del nombre no es válido. Por favor, revisa que no contenga números o caracteres especiales (*,3,#)"),o(".formNombre .icono i").removeClass("check").addClass("warning"),o(".formNombre").addClass("red").removeClass("green")),o(".formNombre input").val()||(o(".formNombre .alert").css({visibility:"visible",display:"block"}),o(".formNombre .alert").text("Campo requerido"),o(".formNombre").removeClass("green")),e}function i(){var e=!1;return o(".formEmail .icono").css({visibility:"visible"}),/^([\w\-_+]+(?:\.[\w\-_+]+)*)@((?:[a-z0-9\-]+\.)*[a-z0-9][a-z0-9\-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i.test(o(".formEmail input").val()||"")?(o(".formEmail .alert").css({visibility:"hidden"}),o(".formEmail .icono i").removeClass("warning").addClass("check"),o(".formEmail").addClass("green").removeClass("red"),e=!0):(o(".formEmail .alert").css({visibility:"visible",display:"block"}),o(".formEmail .alert").text("El formato del email no es válido. Por favor, revisa que no contenga espacios, paréntesis, dos puntos..."),o(".formEmail .icono i").removeClass("check").addClass("warning"),o(".formEmail").addClass("red").removeClass("green"),o(".formEmail label").addClass("relleno")),o(".formEmail input").val()||(o(".formEmail .alert").css({visibility:"visible",display:"block"}),o(".formEmail .alert").text("Campo requerido"),o(".formEmail").removeClass("green"),o(".formEmail label").removeClass("relleno")),e}function r(){var e=!1;return o(".formTelefono .icono").css({visibility:"visible"}),o(".formTelefono input").val()?(/^((\+?34([ \t|\-])?)?[9|6|7|8]((\d{1}([ \t|\-])?[0-9]{3})|(\d{2}([ \t|\-])?[0-9]{2}))([ \t|\-])?[0-9]{2}([ \t|\-])?[0-9]{2})$/.test(o(".formTelefono input").val()||"")?(o(".formTelefono .alert").css({visibility:"hidden"}),o(".formTelefono .icono i").removeClass("warning").addClass("check"),o(".formTelefono").addClass("green").removeClass("red")):(o(".formTelefono .alert").css({visibility:"visible",color:"red",display:"block"}),o(".formTelefono .alert").text("Por favor, revisa el formato del teléfono. Si no es un nº español, te recordamos que sólo pasamos consulta en Madrid. Si aún así sigues interesado, envía el formulario."),o(".formTelefono .icono i").removeClass("check").removeClass("warning"),o(".formTelefono").addClass("red").removeClass("green")),e=!0):(o(".formTelefono .alert").css({visibility:"visible",display:"block",color:"red"}),o(".formTelefono .icono i").removeClass("check").addClass("warning"),o(".formTelefono .alert").text("Campo requerido"),o(".formTelefono").removeClass("green").addClass("red")),e}o("#modalformulario").on(o.modal.BEFORE_OPEN,function(e,i){console.log(i.options),"llamada"==i.$anchor.attr("data-form")||"llamada"==i.options.tipo?(o(".formEmail").hide(),o(".formTratamiento").hide(),o(".formComenta").hide(),o(".formEnviarFormulario").attr("data-form","llamada")):(o(".formEmail").show(),o(".formTratamiento").show(),o(".formComenta").show(),o(".formEnviarFormulario").attr("data-form",""))}),o(document).on("input",".formNombre input",function(){e()}),o(document).on("blur",".formEmail input",function(){i()}),o(document).on("blur",".formTelefono input",function(){r()}),o(".formComenta textarea").textareaAutoSize(),o(".formComenta textarea").blur(function(){o(this).val()?(o(".formComenta").addClass("green"),o(".formComenta .icono").css({visibility:"visible"})):(o(".formComenta").removeClass("green"),o(".formComenta .icono").css({visibility:"hidden"}))}),o(document).on("change",".formPrivacidad",function(){o(this).is(":checked")?(o(".formPrivacidad").prop("checked",!0),o(".formAlertPrivacidad").css({visibility:"hidden"})):(o(".formPrivacidad").prop("checked",!1),o(".formAlertPrivacidad").css({visibility:"visible",display:"block"}))}),o(document).on("click",".formCerrarLoader",function(){o(".over-loader").fadeOut("400"),o(".formCerrarLoader").hide(),o(".formEnviando i").hide(),o(".over-loader .image-loader").show(),o(".formEnviando p").text("Un momento, el formulario se está enviando...")}),o(document).on("click",".formEnviarFormulario",function(){return function(a){var l=e(),n=i(),t=r();if(o(".formTratamiento").is(":visible")&&!o(".formTratamiento select").val()){var m=!1;o(".formAlertTto").css({visibility:"visible",display:"block"}),o(".formTratamiento").addClass("red").removeClass("green")}else var m=!0;var s=!!o(".formPrivacidad").is(":checked");if(l&&n&&t&&s&&m||"llamada"==a&&l&&t&&s){if("undefined"==typeof url&&(url=null),"undefined"==typeof gclid&&(gclid=null),"undefined"==typeof gaid&&(gaid=null),"undefined"==typeof utm_campaign&&(utm_campaign=null),"undefined"==typeof utm_medium&&(utm_medium=null),"undefined"==typeof utm_source&&(utm_source=null),"undefined"==typeof utm_term&&(utm_term=null),"undefined"==typeof utm_content&&(utm_content=null),"undefined"==typeof horainicio&&(horainicio=null),"undefined"==typeof horafin&&(horafin=null),"llamada"==a)var d="[FORMULARIO LLAMADME]";else var d=o(".formComenta textarea").val();var f={nombre:o(".formNombre input").val(),email:o(".formEmail input").val(),tel:o(".formTelefono input").val(),motivo:o("input[name=motivo]:checked").val(),tratamiento:o(".formTratamiento select").val(),comentario:d,gclid:gclid,gaid:gaid,url:url,utm_campaign:utm_campaign,utm_medium:utm_medium,utm_source:utm_source,utm_term:utm_term,utm_content:utm_content};return c=f,o(".formEnviando i").css("visibility","hidden"),o(".over-loader").fadeIn(200),o.ajax({type:"POST",encode:!0,url:formulario_obj.json_data+"/registro-formulario.php",data:c}).done(function(e){console.log("dentro"),e?window.location.href=window.location.hostname+"/gracias/":(o(".over-loader .image-loader").hide(),o(".formEnviando i").css("visibility","visible"),o(".formEnviando p").text("Ha ocurrido un error y no hemos recibido el formulario. Por favor intenta enviarlo de nuevo."),o(".formCerrarLoader").show().css("display","block !important"))}).fail(function(){o(".over-loader .image-loader").hide(),o(".formEnviando i").css("visibility","visible"),o(".formEnviando p").text("Ha ocurrido un error y no hemos recibido el formulario. Por favor intenta enviarlo de nuevo."),o(".formCerrarLoader").show().css("display","block !important")}),!1}return o("footer .alert").css({visibility:"visible",display:"block"}),!1;var c}(o(this).data("form"))})})}(jQuery)